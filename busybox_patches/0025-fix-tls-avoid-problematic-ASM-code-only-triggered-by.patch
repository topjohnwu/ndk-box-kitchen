From 4188631fa69400723cf8458c9fc15b1aad60d581 Mon Sep 17 00:00:00 2001
From: osm0sis <osm0sis@outlook.com>
Date: Thu, 20 Jul 2017 09:16:07 -0300
Subject: [PATCH 25/33] fix tls: avoid problematic ASM code only triggered by
 x86 NDK builds

---
 networking/tls.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/networking/tls.h b/networking/tls.h
index d4ac1bef8..07032477e 100644
--- a/networking/tls.h
+++ b/networking/tls.h
@@ -26,7 +26,7 @@
 #undef  USE_SEED
 /* pstm: multiprecision numbers */
 #undef  DISABLE_PSTM
-#if defined(__GNUC__) && defined(__i386__)
+#if defined(__GNUC__) && defined(__i386__) && !defined(__ANDROID__)
   /* PSTM_X86 works correctly. +25 bytes. */
 # define PSTM_32BIT
 # define PSTM_X86
-- 
2.31.1

